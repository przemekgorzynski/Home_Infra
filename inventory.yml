---
all:
  vars:
    admin_group:
      - name: admins
        gid: 1100
    users:
      - name: "{{ lookup('community.general.bitwarden', 'os_account', field='username')[0] }}"
        groups: 'users,sudo,adm,www-data,admins'
        shell: '/bin/bash'
        state: present
        uid: 1000
        private_key_path: '~/.ssh/ssh-ed25519'
    timezone: Europe/Warsaw
    standard_packages:
      - docker.io
      - docker-compose
      - curl
      - network-manager
      - git
      - net-tools
      - vim
      - wget
      - ufw
      - fail2ban
      - python3-pip
  hosts:
    # localhost:
    #   ansible_connection: local
    nas:
      hostname: nas
      type: pc
      ansible_host: 10.0.0.10
      ansible_user: "{{ lookup('community.general.bitwarden', 'os_account', field='username')[0] }}"
      ansible_become_password: "{{ lookup('community.general.bitwarden', 'os_account', field='password')[0] }}"
      samba_shares_partition:
        - uuid: 1c5dcb51-59e7-4013-95e2-b2662611ccba   # 2TB
          path: /samba_shares
          chmod: '0777'
          fstype: ext4
          opts: defaults,nofail
      samba_backup_partition:
        - uuid: 6e88906f-dafc-476c-8a49-e345710f016f   # 4TB
          path: /samba_backup
          chmod: '0777'
          fstype: ext4
          opts: defaults,nofail

    # pi:
    #   hostname: pi
    #   type: raspberry
    #   ansible_host: 10.0.0.20
    #   ansible_user: "{{ lookup('community.general.bitwarden', 'os_initial_account_pi', field='username')[0] }}"
    #   ansible_ssh_pass: "{{ lookup('community.general.bitwarden', 'os_initial_account_pi', field='password')[0] }}"
    #   ansible_become_password: "{{ lookup('community.general.bitwarden', 'os_initial_account_pi', field='password')[0] }}"
    # dell-sandbox:
    #   hostname: dell-sandbox
    #   type: notebook
    #   ansible_host: 10.0.0.30
    #   ansible_user: "{{ lookup('community.general.bitwarden', 'os_account', field='username')[0] }}"
    #   ansible_ssh_pass: "{{ lookup('community.general.bitwarden', 'os_account', field='password')[0] }}"
    #   ansible_become_password: "{{ lookup('community.general.bitwarden', 'os_account', field='password')[0] }}"
